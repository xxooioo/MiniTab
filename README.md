# MiniTab - Chrome 新标签页扩展

> 简洁、优雅、高效的新标签页扩展，让你的浏览器首页更美观、更实用。

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Chrome Extension](https://img.shields.io/badge/Chrome-Extension-brightgreen)](https://chrome.google.com/webstore)

## ✨ 核心特性

### 🎯 快捷方式管理
- **智能图标获取** - 自动从网站页面获取高质量图标（优先 192x192 PNG），失败时使用 Google Favicon API
- **多种图标方式** - 支持自动获取、手动输入 URL、上传本地图片（最大 2MB）、自定义文字图标
- **文字图标** - 1-3 个字符，15 种颜色可选，支持实时预览和颜色自定义
- **拖拽排序** - 直观的拖拽操作，位置自动保存
- **分组管理** - 拖拽图标到另一个图标上创建分组，支持分组内排序
- **快速编辑** - 右键菜单快速编辑、删除、移动快捷方式

### 📑 多标签页系统
- **无限标签页** - 创建多个标签页，分类管理不同场景的网站
- **滚轮切换** - 鼠标滚轮快速切换标签页（需滚动到页面底部）
- **拖拽排序** - 自由调整标签页顺序，顺序自动保存
- **独立存储** - 每个标签页独立管理快捷方式，互不干扰
- **撤回删除** - 删除标签页后支持 5 秒内撤回

### 🔍 智能搜索
- **多引擎支持** - Google / Bing / 百度 / 自定义搜索引擎
- **网址直达** - 输入完整网址直接访问
- **关键词搜索** - 输入关键词使用默认搜索引擎搜索
- **快捷键** - `Cmd/Ctrl + K` 快速聚焦搜索框

### 🎨 个性化设置
- **精美背景** - 30 种渐变配色（含三色渐变），支持上传自定义图片
- **透明度调节** - 搜索框透明度可调（0-50%）
- **图标区域宽度** - 每行显示 6-12 个图标可调
- **自动隐藏** - 侧边栏和设置按钮可设置自动隐藏

### 💾 数据管理
- **备份与恢复** - 导出/导入 JSON 格式数据，支持跨设备同步
- **书签导入** - 一键导入浏览器书签，自动将文件夹转换为分组
- **导入模式** - 支持覆盖或合并两种导入模式
- **本地存储** - 所有数据存储在本地，安全可靠

### ➕ 快速添加
- **扩展图标** - 点击扩展图标快速添加当前网站
- **自动填充** - 自动获取网站标题和地址
- **智能图标** - 自动获取网站高质量图标

## 🚀 安装

### 方法一：从 Chrome 网上应用店安装（推荐）
> 即将上线...

### 方法二：从源码安装（开发者模式）

1. **克隆或下载项目**
   ```bash
   git clone https://github.com/your-username/MiniTab.git
   cd MiniTab
   ```

2. **打开 Chrome 扩展管理页面**
   - 访问 `chrome://extensions/`
   - 开启右上角的"开发者模式"

3. **加载扩展**
   - 点击"加载已解压的扩展程序"
   - 选择 MiniTab 项目文件夹

4. **完成安装**
   - 打开新标签页即可使用
   - 点击扩展图标可快速添加当前网站

## 📖 使用指南

### 多标签页管理

**位置**：页面右侧标签页列表

- **切换标签页** - 点击标签页名称
- **滚轮切换** - 鼠标悬停在标签页区域，滚动滚轮快速切换（需滚动到页面底部）
- **拖拽排序** - 按住标签页拖拽调整顺序
- **新建标签页** - 点击底部 `+` 按钮
- **编辑标签页** - 右键点击 → 选择"编辑"
- **删除标签页** - 右键点击 → 选择"删除"（支持 5 秒内撤回）

> 💡 **提示**：每个标签页独立管理快捷方式，互不干扰。标签页顺序可通过拖拽自定义。

### 添加快捷方式

#### 方法一：通过扩展图标（推荐）
1. 访问任意网站
2. 点击浏览器工具栏的 MiniTab 扩展图标
3. 编辑网站名称和地址（已自动填充）
4. 选择要添加到的标签页
5. 点击"添加"

#### 方法二：在新标签页手动添加
1. 打开新标签页
2. 点击快捷方式网格右上角的 `+` 按钮
3. 填写网站信息：
   - **网站名称** - 显示在图标下方
   - **网站地址** - 完整 URL（如 `https://example.com`）
   - **图标选择**：
     - **留空** - 自动获取（优先从页面获取高质量图标）
     - **输入 URL** - 使用自定义图标地址
     - **上传图片** - 点击上传按钮，选择本地图片（最大 2MB）
     - **文字图标** - 点击 T 按钮，输入 1-3 个字符，可自定义颜色

### 文字图标功能

快速创建个性化文字图标：

1. 点击添加快捷方式弹窗中的 **T** 按钮
2. 输入 1-3 个字符（自动转换为大写）
3. 颜色选择器立即显示，可选择 15 种预设颜色
4. 不选择颜色则随机生成（相同文字生成相同颜色）
5. 系统自动生成带彩色背景的 SVG 图标

### 分组功能

整理快捷方式的利器：

- **创建分组** - 拖拽一个图标到另一个图标上
- **添加到分组** - 拖拽图标到分组图标上
- **打开分组** - 点击分组图标查看内容
- **编辑分组** - 右键点击分组 → 选择"编辑"
- **删除分组** - 右键点击分组 → 选择"删除"（分组内图标会移到主列表）
- **分组内排序** - 在分组内拖拽图标排序
- **移出分组** - 右键点击分组内图标 → 选择"移出"

### 书签导入功能

快速迁移浏览器书签：

1. 打开设置面板（点击右下角 ⚙️ 按钮）
2. 在"数据备份与恢复"区域点击"导入浏览器书签"
3. 确认导入后，系统会自动：
   - 读取所有浏览器书签
   - 将文件夹转换为分组（所有文件夹，无论层级）
   - 将书签添加为快捷方式
   - 追加到当前标签页的快捷方式后面

> 💡 **提示**：
> - 只有包含直接书签的文件夹会转换为分组
> - 嵌套文件夹会单独成为分组，不会合并到父文件夹
> - 导入前建议先备份现有数据
> - 导入后可以继续编辑和调整

### 搜索功能

- **关键词搜索** - 输入关键词按回车，使用默认搜索引擎
- **网址直达** - 输入完整网址按回车，直接访问
- **搜索引擎切换** - 在设置中选择默认搜索引擎
- **自定义引擎** - 支持添加自定义搜索引擎（使用 `%s` 作为占位符）

### 自定义设置

点击右下角设置按钮 ⚙️：

- **背景设置**
  - 上传背景图片 - 使用本地图片
  - 随机背景 - 30 种精美渐变配色
  - 初始背景 - 恢复默认青靛渐变

- **搜索引擎** - Google / Bing / 百度 / 自定义

- **搜索框透明度** - 滑块调节（0-50%）

- **图标区域宽度** - 滑块调节每行图标数量（6-12 个）

- **自动隐藏** - 控制侧边栏和设置按钮自动隐藏

- **数据备份与恢复**
  - 备份数据 - 导出 JSON 格式备份文件
  - 恢复数据 - 导入备份文件（支持覆盖/合并模式）
  - 导入浏览器书签 - 一键导入书签，自动转换为分组

## 💡 使用场景

- **工作场景** - GitHub、Gmail、Slack、Jira、Notion 等
- **学习场景** - 文档、教程、在线课程、学术网站等
- **娱乐场景** - YouTube、B站、音乐、游戏平台等
- **购物场景** - 淘宝、京东、亚马逊、比价网站等
- **开发场景** - API 文档、工具网站、代码托管等

每个标签页独立存储，互不干扰！

## ⌨️ 快捷键

- `Cmd/Ctrl + K` - 快速聚焦搜索框
- `Cmd/Ctrl + T` - 打开新标签页
- `ESC` - 关闭弹窗/设置面板

## 🔧 技术栈

- **前端** - 原生 JavaScript（无框架依赖）
- **样式** - CSS3（Flexbox + Grid）
- **存储** - Chrome Storage API
- **图标** - SVG + Base64 编码
- **API** - Chrome Extension Manifest V3

## 📁 项目结构

```
MiniTab/
├── icons/              # 扩展图标
│   └── icon.png
├── drag-handler.js     # 拖拽处理模块
├── script.js           # 主逻辑（约 4,800 行）
├── popup.js            # 扩展弹窗逻辑
├── styles.css          # 样式文件
├── newtab.html         # 新标签页 HTML
├── popup.html          # 扩展弹窗 HTML
├── manifest.json       # 扩展配置文件
├── LICENSE             # MIT 许可证
└── README.md           # 项目文档
```

## 🔧 故障排查

### 扩展图标不显示
- **原因**：图标文件缺失或格式不正确
- **解决**：确保 `icons/icon.png` 存在，建议使用 PNG 格式（16x16, 48x48, 128x128）

### 网站图标加载失败
- **原因**：某些网站没有 favicon 或跨域限制
- **解决**：
  - 系统会自动尝试多种方式获取图标
  - 手动输入图标 URL 或上传图片
  - 使用文字图标功能

### 标签页数据丢失
- **原因**：数据存储在 Chrome 本地存储中
- **解决**：
  - 定期使用数据备份功能导出数据
  - 卸载扩展会清除所有数据，请先备份

### 拖拽排序后位置不保存
- **原因**：浏览器存储权限问题
- **解决**：
  - 确保扩展有 storage 权限
  - 刷新页面后位置应该会保存

### 上传的图片超过 2MB
- **原因**：为了性能考虑，限制图标大小为 2MB
- **解决**：使用图片压缩工具减小文件大小

### 标签页无法拖拽排序
- **原因**：页面未完全加载或浏览器权限问题
- **解决**：
  - 确保页面完全加载后再拖拽
  - 刷新页面后重试
  - 检查浏览器控制台是否有错误

### 书签导入失败
- **原因**：浏览器权限问题或书签数据异常
- **解决**：
  - 确保扩展有 bookmarks 权限
  - 检查浏览器书签是否正常
  - 刷新页面后重新导入

### 图标获取不理想
- **原因**：某些网站没有高质量图标资源
- **解决**：
  - 系统会优先从页面获取高质量图标
  - 失败时会使用 Google Favicon API
  - 可手动输入图标 URL 或上传图片
  - 使用文字图标功能创建个性化图标

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

### 开发指南

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

### 代码规范

- 使用原生 JavaScript，无框架依赖
- 遵循 ESLint 规范
- 添加必要的注释
- 确保代码通过 Linter 检查

## 📄 许可证

本项目采用 [MIT License](LICENSE) 许可证。

## 🙏 致谢

感谢所有为这个项目做出贡献的开发者！

---

**Made with ❤️**

如果这个项目对你有帮助，请给个 ⭐ Star 支持一下！

## 📮 联系方式

- GitHub Issues: [提交问题](https://github.com/your-username/MiniTab/issues)
- Email: your-email@example.com

## 🗺️ 更新日志

### v1.1.0 (最新)
- ✨ 新增书签导入功能
- ✨ 新增标签页拖拽排序
- ✨ 新增数据导入合并模式
- ✨ 优化图标获取逻辑（优先高质量图标）
- ✨ 新增文字图标颜色选择器
- 🐛 修复图标加载无限循环问题
- 🐛 修复模态框拖拽关闭问题
- 🐛 修复新标签打开位置问题
- 🎨 优化 UI 细节和交互体验

### v1.0.0
- 🎉 首次发布
- ✨ 基础快捷方式管理
- ✨ 多标签页系统
- ✨ 分组功能
- ✨ 搜索功能
- ✨ 自定义背景
- ✨ 数据备份与恢复
