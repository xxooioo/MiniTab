# MiniTab - Chrome 新标签页

> 简洁、优雅的新标签页扩展，让你的浏览器首页更高效、更美观。

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Chrome Web Store](https://img.shields.io/badge/Chrome-Extension-brightgreen)](https://chrome.google.com/webstore)

## ✨ 功能特性

### 核心功能
- 🔍 **智能搜索** - 支持网址直达和关键词搜索，可切换搜索引擎（Google/Bing/百度/自定义）
- 🔗 **快捷方式管理** - 添加/删除/编辑常用网站，支持拖拽排序，位置自动保存
- 📁 **分组功能** - 创建分组整理快捷方式，拖拽图标到分组或创建新分组
- 📑 **多标签页** - 创建多个页面，分类管理不同的网站，支持滚轮切换
- 🎨 **精美背景** - 30 种渐变配色（含三色渐变），支持上传自定义图片
- ➕ **快速添加** - 点击扩展图标快速添加当前网站

### 自定义设置
- 🎛️ **透明度调节** - 自定义搜索框透明度（0-50%）
- 📐 **图标区域宽度** - 自定义每行显示的图标数量（6-12个）
- 🎨 **文字图标** - 支持1-3个字符的自定义文字图标，15种颜色可选
- 📤 **图标上传** - 支持上传本地图片作为图标（最大2MB）
- 💾 **数据备份** - 导出/导入所有数据，支持跨设备同步
- 👁️ **自动隐藏** - 控制按钮可设置自动隐藏，界面更简洁

## 🚀 安装

### 从源码安装（开发者模式）

1. 克隆或下载本项目
   ```bash
   git clone https://github.com/yourusername/MiniTab.git
   cd MiniTab
   ```

2. 打开 Chrome 扩展管理页面
   - 访问 `chrome://extensions/`
   - 开启右上角的"开发者模式"

3. 加载扩展
   - 点击"加载已解压的扩展程序"
   - 选择本项目文件夹

### 从 Chrome Web Store 安装（即将上线）

<!-- 发布后更新此链接 -->
<!-- [点击这里安装](https://chrome.google.com/webstore/detail/minitab/...) -->

## 📖 使用说明

### 多标签页管理

在页面**右侧**可以看到标签页列表：

- **切换标签页** - 点击标签页名称即可切换
- **滚轮切换** - 鼠标悬停在标签页区域，滚动滚轮快速切换
- **新建标签页** - 点击底部的 `+` 按钮，输入标签页名称
- **删除标签页** - 鼠标悬停在标签页上，点击右上角的 `×` 删除（至少保留一个）
- **当前标签页** - 高亮显示，所有操作都在当前标签页进行

> 💡 **提示**：每个标签页独立管理自己的快捷方式，互不干扰！

### 添加快捷方式

#### 方法一：通过扩展图标（推荐）
1. 访问任意网站
2. 点击浏览器工具栏的 MiniTab 扩展图标
3. 自定义网站名称和地址（可编辑）
4. 选择要添加到的标签页
5. 点击"添加到标签页"

#### 方法二：在新标签页手动添加
1. 打开新标签页
2. 点击"常用网站"旁的 `+` 按钮
3. 填写网站信息：
   - **网站名称** - 显示在图标下方的文字
   - **网站地址** - 完整的 URL（如 `https://example.com`）
   - **图标** - 可选择以下方式：
     - 留空：自动获取网站 favicon
     - 输入 URL：使用自定义图标地址
     - 上传图片：点击上传按钮选择本地图片（最大2MB）
     - 文字图标：点击 T 按钮，输入1-3个字符，可自定义颜色

### 搜索功能

- **关键词搜索** - 输入关键词后按回车，使用默认搜索引擎搜索
- **网址直达** - 输入完整网址后按回车，直接访问网站
- **搜索引擎切换** - 在设置中可选择默认搜索引擎（Google/Bing/百度/自定义）

### 文字图标功能

快速创建个性化的文字图标：

1. 点击添加快捷方式弹窗中的 **T** 按钮
2. 输入1-3个字符（会自动转换为大写）
3. 在下方颜色选择器中选择颜色（可选，不选则随机生成）
4. 系统会自动生成带彩色背景的文字图标

> 💡 **提示**：文字图标支持15种预设颜色，相同文字会生成相同颜色，便于识别。

### 分组功能

整理快捷方式的好帮手：

- **创建分组** - 拖拽一个图标到另一个图标上，自动创建分组
- **添加图标** - 拖拽图标到分组图标上，添加到分组
- **编辑分组** - 右键点击分组，选择"编辑"可修改分组名称
- **删除分组** - 右键点击分组，选择"删除"（分组内的图标会移到主列表）
- **分组内排序** - 在分组内可拖拽图标进行排序

### 自定义设置

点击右下角设置按钮 ⚙️，可以：

- **背景设置**
  - 上传背景图片 - 使用本地图片作为背景
  - 随机背景 - 30 种精美渐变配色（含三色渐变）
  - 初始背景 - 恢复默认青靛渐变背景

- **搜索引擎** - 选择默认搜索引擎（Google/Bing/百度/自定义）

- **搜索框透明度** - 通过滑块调节透明度（0-50%）

- **图标区域宽度** - 通过滑块调节每行显示的图标数量（6-12个）

- **自动隐藏** - 控制侧边栏和设置按钮是否自动隐藏

- **数据备份**
  - 导出数据 - 下载 JSON 格式的备份文件
  - 导入数据 - 上传备份文件恢复数据

## 💡 使用场景

- **工作标签页** - 添加 GitHub、Gmail、Slack、Jira 等工作相关网站
- **学习标签页** - 添加文档、教程、在线课程、学术网站等学习资源
- **娱乐标签页** - 添加 YouTube、B站、音乐网站、游戏平台等
- **购物标签页** - 添加淘宝、京东、亚马逊、比价网站等
- **开发标签页** - 添加开发文档、API 文档、工具网站等

每个标签页独立存储，互不干扰！

## 📁 项目结构

```
MiniTab/
├── manifest.json          # Chrome 扩展配置文件
├── newtab.html            # 新标签页 HTML
├── popup.html             # 扩展弹窗 HTML（添加网站）
├── popup.js               # 弹窗逻辑
├── script.js              # 主要逻辑（状态管理、UI渲染、事件处理）
├── styles.css             # 样式文件
├── drag-handler.js        # 拖拽处理模块
├── icons/                 # 图标资源
│   └── icon.png           # 扩展图标
├── README.md              # 项目说明文档
└── LICENSE                # MIT 许可证
```

## ⌨️ 快捷键

- `Cmd/Ctrl + K` - 快速聚焦搜索框
- `Cmd/Ctrl + T` - 打开新标签页
- `ESC` - 关闭弹窗/设置面板

## 🔧 故障排查

### 问题：扩展图标不显示
- **原因**：图标文件缺失或格式不正确
- **解决**：确保 `icons/icon.png` 文件存在，建议使用 PNG 格式（16x16, 48x48, 128x128）

### 问题：网站图标加载失败
- **原因**：某些网站可能没有 favicon 或跨域限制
- **解决**：手动添加时填写图标 URL，或使用文字图标功能

### 问题：标签页数据丢失
- **原因**：数据存储在 Chrome 本地存储中
- **解决**：
  - 使用数据备份功能定期导出数据
  - 卸载扩展会清除所有数据，请先备份

### 问题：拖拽排序后位置不保存
- **原因**：可能是浏览器存储权限问题
- **解决**：
  - 确保扩展有 storage 权限
  - 刷新页面后位置应该会保存

### 问题：上传的图片超过2MB
- **原因**：为了性能考虑，限制图标大小为2MB
- **解决**：使用图片压缩工具减小文件大小，或使用在线图标服务

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

### 开发规范
- 代码风格：使用 ESLint 规范
- 提交信息：使用清晰的描述性提交信息
- 功能添加：请先创建 Issue 讨论

## 📝 更新日志

### v1.1.0 (最新)
- ✨ **新增功能**
  - 添加文字图标功能（1-3个字符，15种颜色可选）
  - 添加图标区域宽度设置（6-12个图标/行）
  - 添加图标上传功能（支持本地图片，最大2MB）
  - 优化拖拽排序，位置自动保存

- 🐛 **问题修复**
  - 修复拖拽排序后位置不保存的问题
  - 修复分组内图标排序不保存的问题
  - 修复图标上传后再次选择同一文件不提示的问题
  - 统一 Toast 提示样式
  - 修复搜索框透明度默认值不一致

- 🎨 **界面优化**
  - 统一提示系统，使用 Toast 替代原生 alert
  - 优化拖拽体验和视觉反馈
  - 优化颜色选择器样式（圆形按钮）

- 🔧 **代码优化**
  - 添加全局错误处理，防止页面崩溃
  - 添加数据校验器，自动清理无效数据
  - 添加内存泄漏防护（CleanupManager）
  - 删除未使用的代码和样式

### v1.0.0
- 🎉 **首次发布**
- ✅ 多标签页功能
- ✅ 快捷方式管理
- ✅ 分组功能
- ✅ 拖拽排序
- ✅ 自定义背景（30种渐变）
- ✅ 搜索引擎切换
- ✅ 透明度调节
- ✅ 数据备份功能

## 📄 许可证

本项目采用 [MIT License](LICENSE) 许可证。

---

**Made with ❤️ by [Your Name]**

如果这个项目对你有帮助，请给个 ⭐ Star 支持一下！
